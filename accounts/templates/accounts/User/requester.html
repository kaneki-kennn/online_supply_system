
{% load static %}
<!DOCTYPE html>
<html lang="en">  
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Requesting Page</title>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round|Open+Sans">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="stylesheet" href="{% static 'css/main.css' %}">

  </head>
  <body>
    <main class="flex-shrink">
      <div id="page-content-wrapper ">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <img class="ctu_logo mx-3" src="{% static 'images/ctu_loogo.png' %}" alt="CTU LOGO">
            <div>
              <h1 class="head">Online Supply Office</h1>
              <h1 class="p1">Cebu Technological University - Argao Campus</h1>
            </div>
            <div>
              <a href="{% url 'profile' %}">
                <img class="profile_img" src="{% static 'images/profile_default_image.png' %}" alt="">
              </a>
            <div>
              <h1 class="p1">Profile Name</h1>
            </div>
            </div>
        </nav>
      </div>
      <h1 class="welcome">Welcome to Cebu Technological University - Argao Campus Online Supply System </h1>
      <div class="d-flex" id="wrapper">
        <!-- Sidebar-->
        <div class="sidebar">
          <div class=" bg-white" id="sidebar-wrapper">
            <div class="list-group">
              <a class="list-group-item list-group-item-action list-group-item-light pt-5 pb-3 border-0" href="{% url 'notification' %}">Home</a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="{% url 'requester' %}">Purchase Request</a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="{% url 'tracker' %}">Request Tracker</a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="{% url 'history' %}">History</a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="{% url 'about' %}">About Us</a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="#!"></a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="#!"></a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="#!"></a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="#!"></a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="#!"></a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="#!"></a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="#!"></a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="#!"></a>
              <a class="list-group-item list-group-item-action list-group-item-light p-3 border-0" href="{% url 'login' %}">
                <img class="arrow_img" src="{% static 'images/arrow_right.png' %}" alt=""> Logout
              </a>
            </div>
          </div>
        </div>

        <div class="container-fluid">
          <div class="container">
            <h1 class="pr text-center pt-4">PURCHASE REQUEST</h1>  
          </div>
          <form>
            <div class="form-group mb-3">
              <label for="departmentDropdown">Choose Department:</label>
              <select class="form-control" id="departmentDropdown">
    <option value="option1">Department 1</option>
    <option value="option2">Department 2</option>
    <option value="option3">Department 3</option>
               <input type="text" class="form-control" id="newDepartment" placeholder="Enter new department">
     
                  <button class="btn btn-info" type="button" id="addDepartmentBtn">Add Department</button>
                  <!-- Departments will be added here dynamically -->
              </select>
          
              <div id="otherText" style="display: none;">
    <input type="text" id="otherTextInput" placeholder="Others please specify">
  </div>

      <div class="form-group mb-3">
        <label for="exampleFormcontrolTextarea1 p-2">Purpose</label>
        <textarea class="form-control" id="exampleFormcontrolTextarea1" rows="3"></textarea>
      </div>
          </form>
          <div class="text-start my-2">
            <button type="button" class="btn btn-info text-white add-new"><i class="fa fa-plus"></i> Item</button>
          </div>
          <div class="container">
            <table class="table table-bordered table-responsive" id="itemTable">
                <thead>
                    <tr>
                        <th class="">Item No.</th>
                        <th class="">Item Name</th>
                        <th class="">Item Brand/Description</th>
                        <th class="">Unit</th>
                        <th class="">Quantity</th>
                        <th class="">Price</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Rows for items will be added here dynamically -->
                </tbody>
            </table>
        </div>
        <div 
        class="container justify-content-end align-items-baseline">
          Total Amount: _______________
          <a href="#" onclick="showConfirmationPopup()">
            <img class="cart_image" src="{% static 'images/cart.png' %}" alt="Icon" id="icon">
          </a>
          <div id="confirmationPopup" class="popup">
            <span class="popup-close direction-rtl justify-content-end" onclick="hideConfirmationPopup()" >X</span>
            <h2>Purchase Request Confirmation</h2>
            <!-- Add your confirmation content here -->
            <p>Your purchase request has been received and is being processed.</p>
          </div>
        </div>
      </div>
      </div> 
      <div>
    </div> 
    </main>
    <footer>
      <div class="footer">

      </div>
    </footer>
  </body>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
      // Counter for item numbers
      let itemCounter = 1;

      // Function to add a new item row
      function addNewItem() {
          const itemTableBody = document.querySelector("#itemTable tbody");

          // Create a new row for the item
          const newRow = document.createElement("tr");
          newRow.innerHTML = `
              <th scope="row">${itemCounter}</th>
              <td><input type="text" class="form-control" name="item_name[]"></td>
              <td><input type="text" class="form-control" name="item_description[]"></td>
              <td><input type="text" class="form-control" name="item_unit[]"></td>
              <td><input type="text" class="form-control" name="item_quantity[]"></td>
              <td><input type="text" class="form-control" name="item_price[]"></td>
          `;

          // Append the new row to the table
          itemTableBody.appendChild(newRow);

          // Increment the item counter
          itemCounter++;
      }

      // Bind the click event to the "Add Item" button
      $(document).ready(function () {
          $(".add-new").click(function () {
              addNewItem();
          });
      });
  </script>
    
  <script>
    $(document).ready(function () {
                // Add department when the "Add Department" button is clicked
                $("#addDepartmentBtn").click(function () {
                    // Get the new department name from the input field
                    var newDepartment = $("#newDepartment").val();
    
                    // Check if the user entered a department name and it's not empty
                    if (newDepartment.trim() !== "") {
                        // Add the new department as an option in the select element
                        $("#departmentDropdown").append('<option>' + newDepartment + '</option>');
    
                        // Clear the input field
                        $("#newDepartment").val("");
                    }
                });
    
            });
    </script>

    <script>
      function showConfirmationPopup() {
        document.getElementById('confirmationPopup').style.display = 'block';
      }
    
      function hideConfirmationPopup() {
        document.getElementById('confirmationPopup').style.display = 'none';
      }
    </script>
    
</html>
